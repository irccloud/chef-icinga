# Generated by Chef

<VirtualHost *:<%= node['icinga']['apache_port']%>>
        ServerName <%= node['icinga']['url'] %>
        <% unless node['icinga']['url_aliases'].empty? %>
        ServerAlias <%= [node['icinga']['url_aliases']].flatten.compact.join(" ") %>
        <% end %>
        DocumentRoot /usr/share/icinga/htdocs

        ScriptAlias <%= node['icinga']['path'] %>/cgi-bin/icinga /usr/lib/cgi-bin/icinga
        ScriptAlias <%= node['icinga']['path'] %>/cgi-bin /usr/lib/cgi-bin/icinga

        # Where the stylesheets (config files) reside
        Alias <%= node['icinga']['path'] %>/stylesheets /etc/icinga/stylesheets

        <DirectoryMatch (/usr/share/icinga/htdocs|/usr/lib/cgi-bin/icinga|/etc/icinga/stylesheets)>
              Options FollowSymLinks

              DirectoryIndex index.html

              Order Allow,Deny
              Allow From All
        </DirectoryMatch>
</VirtualHost>
